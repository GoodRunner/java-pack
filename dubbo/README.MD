### dubbo

> dubbo支持的协议

1. dubbo 协议 (默认)(官网推荐)
2. rmi 协议
3. hessian 协议
4. http 协议
5. webservice 协议
6. thrift 协议
7. memcached 协议
8. redis 协议

[传送门](https://blog.csdn.net/xiaojin21cen/article/details/79834222)

协议对比

协议名称 | 连接数 | 连接方式 | 传输协议 | 传输方式 | 序列化方式 | 使用场景 | 使用说明
------------------------------ | --- | ---- | ---- | ------ | ------ | -------- | ------
dubbo 协议（默认）  | 单个 | 长连接 | TCP | NIO异步传输 | Hessian 二进制序列化 | 常规远程服务方法调用 | 传入传出参数数据包较小（建议小于100K），消费者比提供者个数多，&\n; 单一消费者无法压满提供者，尽量不要用dubbo协议传输大文件或超大字符串。
rmi 协议 | 多个 | 短连接 | TCP | 同步传输 | Java标准二进制序列化 | 常规远程服务方法调用，与原生RMI服务互操作 | 传入传出参数数据包大小混合，消费者与提供者个数差不多，可传文件。
hessian 协议 | 多个 | 短连接 | HTTP | 同步传输 | 表单序列化 | 需同时给应用程序（不同语言）和浏览器JS使用的服务。 | 传入传出参数数据包大小混合，提供者比消费者个数多，可用浏览器查看，可用表单或URL传入参数，暂不支持传文件。
HTTP 协议 | 多个 | 短连接 | HTTP | 同步传输 | 表单序列化 | 需同时给应用程序和浏览器JS使用的服务。 | 传入传出参数数据包大小混合，提供者比消费者个数多，可用浏览器查看，可用表单或URL传入参数，暂不支持传文件。
webservice 协议 | 多个 | 短连接 | HTTP | 同步传输 | SOAP文本序列化 | 系统集成，跨语言调用 | --
thrift 协议 | -- | -- | -- | -- | -- | -- | Thrift不支持null值，不能在协议中传null
memcached 协议 | -- | -- | -- | -- | -- | -- | --
redis 协议 | -- | -- | -- | -- | -- | -- | --

> 配置zookeeper集群

```
<dubbo:registry protocol="zookeeper" address="10.20.153.10:2181,10.20.153.11:2181,10.20.153.12/>
```

```
<dubbo:registry address="zookeeper://10.20.153.10:2181?backup=10.20.153.11:2181,10.20.153.12:2181"/>
```

```
spring.dubbo.registry.address=zookeeper://172.16.30.206:2183?backup=172.16.30.206:2182,172.16.30.206:2184
```
